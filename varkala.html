<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TourEase</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Merriweather:wght@300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.cdnfonts.com/css/poppins" rel="stylesheet">
    <link rel="stylesheet" href="style3.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.22.9/babel.min.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <header>
        <div class="logo">T<span class="highlight">OUR</span>Ease</div>
        <div class="slogan">Explore Beyond Limits</div>
        <nav>
            <button class="btn-login">Profile</button>
            <select id="language-select">
                <option value="en">English</option>
                <option value="fr">Français</option>
                <option value="es">Español</option>
                <option value="de">Deutsch</option>
            </select>
        </nav>
    </header>

    <div class="bg-wrapper">
        <div class="section-container">
            <div class="vark">
                <h1 style="font-size: 50px; font-family: sans-serif;">Varkala</h1>
                <p style="font-size: medium;">Flaunting one of the best cliff beaches in Kerala, Varkala is a lesser
                    known yet absolutely paradisiacal destination that houses forts, pilgrimage sites, springs, natural
                    fisheries and more.</p>
                    <button class="pricebtn"><i class="fa-solid fa-indian-rupee-sign"></i> Check Price</button>
            </div>
            <div class="right-buttons">
                <button class="weatherbtn" aria-label="Check Weather"></button>
                <button class="mapbtn" aria-label="Open Map"></button>
            </div>
        </div>
    </div>
    
    <div class="thing">
        <h1>Things to See and Do</h1>
        <hr>
        <div class="varkbc-container">
            <div class="varkbc">
                <img src="https://t4.ftcdn.net/jpg/05/58/87/41/360_F_558874150_UBXtzzXkvbVgno5GYNAftE3BT9B6mqV9.jpg"
                    class="varkbc-img">
                <h1 class="varkhd">Varkala Beach</h1>
                <p>Also known as Papanasham Beach, it is popular for the natural spring, which is believed to have
                    medicinal properties and can also wash away sin.</p>
                <button class="explore-btn">Explore</button>
            </div>
            <div class="varkbc">
                <img src="https://travelsetu.com/apps/uploads/new_destinations_photos/destination/2023/12/15/364622184c1ac094f23d19f6efca63f5_1000x1000.jpg"
                    class="varkbc-img">
                <h1 class="varkhd">Janardhana Swamy Temple</h1>
                <p>A 2000-year-old temple dedicated to Lord Vishnu, one of the major pilgrimage sites in Varkala.</p>
                <button class="explore-btn">Explore</button>
            </div>
            <div class="varkbc">
                <img src="https://www.shutterstock.com/shutterstock/videos/1105482303/thumb/1.jpg?ip=x480"
                    class="varkbc-img">
                <h1 class="varkhd">Kappil Lake</h1>
                <p>A serene backwater destination ideal for boating and enjoying the natural beauty of Kerala.</p>
                <button class="explore-btn">Explore</button>
            </div>
            <div class="varkbc">
                <img src="https://media1.thrillophilia.com/filestore/2ocjdt16rtjc81d6ul9ckqp17xyo_shutterstock_657024340.jpg"
                    class="varkbc-img">
                <h1 class="varkhd">Varkala Cliff</h1>
                <p>A stunning red laterite cliff offering breathtaking views of the Arabian Sea.</p>
                <button class="explore-btn">Explore</button>
            </div>
            <div class="varkbc">
                <img src="https://dynamic-media-cdn.tripadvisor.com/media/photo-o/04/9e/49/08/anjengo-fort.jpg?w=1200&h=1200&s=1"
                    class="varkbc-img">
                <h1 class="varkhd">Anjengo Fort</h1>
                <p>A historic fort built by the British East India Company with a picturesque lighthouse nearby.</p>
                <button class="explore-btn">Explore</button>
            </div>
            <div class="varkbc">
                <img src="https://thumbs.dreamstime.com/b/tower-temple-sivagiri-mutt-ashram-varakala-tower-temple-sivagiri-mutt-ashram-varakala-state-kerala-245023425.jpg"
                    class="varkbc-img">
                <h1 class="varkhd">Sivagiri Mutt</h1>
                <p>The final resting place of social reformer Sree Narayana Guru, attracting pilgrims throughout the
                    year.</p>
                <button class="explore-btn">Explore</button>
            </div>
        </div>
    </div>
    
    <div class="ok">
        <h1>Varkala: Get Set for a Tempting Vacation!</h1>
        <p>Keen on vacationing on an unspoilt beach in Gods own country, Kerala? Give the crowded, popular beach
            destinations a miss and head to Varkala. Temples, ashrams, springs, cliffs and beaches make up for all the
            places to visit in Varkala. This tranquil location brings a sense of peace to both devotees and vacationers.
            The golden beach and the azure Arabian Sea beside it offer a relaxing environment. The cliff overlooking the
            beach is covered in lush greenery. The riot of colours with the green foliage, the golden sands and the blue
            sea is a dream for photographers. Varkala beach is not the only attraction here. The history of Varkala
            dates back to 2000 years ago when the Janardhana Swamy Temple was built. The water from the natural spring
            here has medicinal properties while the sea offers the chance to swim and surf. The hanging cliff is just
            right for paragliding too. With interesting options for varied activities, the places to visit in Varkala
            offer a tempting vacation.</p>
        <h1>When to Visit Varkala?</h1>
        <p>The best time to visit Varkala is said to be the winter season. The coastal town has a dry atmosphere with
            Varkala temperature ranging between 12 and 31 degrees. Monsoon time is the shoulder season where places to
            visit in Varkala receive heavy rainfall. But the surrounding turns vibrant green and is apt for photography.
            Varkala temperature soars as high as 40 degrees during the summer months. This is the off-season for tourism
            since Varkala weather and hence budget friendly. If you really want to visit in the off-season, March will
            be the best time to visit Varkala as it hosts the Arattu and Kaliyoot festivals.</p>
        <h1>How to Reach Varakala?</h1>
        <p>Kerala has a good network of roads and touring the places to visit in Varkala will be a smooth event. If you
            are planning to avail KSRTC, state buses, you can get down at Attingal and take a connecting bus for
            Varkala. Varkala has its own railway station and has connecting trains from Kochi and Thiruvananthapuram.
            Many trains do not stop at Varkala so take trains for Trivandrum or Kollam or Kochi. Take connecting trains
            or road routes from these places. The nearest airport to Varkala is Thiruvananthapuram Airport. To tour
            places to visit in Varkala, you can use two-wheelers and auto-rickshaws.</p>
        <h1>What are the Things to See & Do in Varkala?</h1>
        <p>Varkala is a small town and the places to visit in Varkala are easily accessible. Spend spiritual moments in
            the temples and receive divine blessings. Enjoy the beaches and all the activities there swimming, surfing,
            snorkelling and paragliding from the cliff. Trek to the historical forts and monuments and marvel at the
            architecture. Climb up to the summit of the lighthouse to catch the best sunset on the Arabian Sea. Savour
            different cuisines. Include backwaters and islands in your itinerary for the places to visit in Varkala.
        </p>
        <h1>Food to Try in Varkala</h1>
        <p>The recommendation for Varkala food is chiefly seafood, particularly the freshest catch. Most places serve
            grilled or fried fish and lobsters. The taste differs according to freshness. Since this small town caters
            to pan-Indian and International tourists, its restaurants serve Chinese and Continental food. There are
            various shacks and food stalls near places to visit in Varkala. Look out for some local specialities or
            Kerala cuisine. Varkala food includes some Kerala staples such as the Puttu (cylinder-shaped steamed rice
            and coconut dish), Dosa with omelette and chutney, Parotta (lightly fried layered flatbread) and Chicken
            thoran (spicy curry). An interesting take on the dosa pancake is the small and thick Tata dosa. You can
            enquire about Varkala food and places to eat from locals or the guide taking you around the places to visit
            in Varkala. Also, sample the differently flavoured coffees at popular joints. </p>
        <h1>Things to Buy in Varkala</h1>
        <p>Most of the places to visit in Varkala are dotted with small shops selling various souvenirs and
            knick-knacks. There is a wide range of products to pick from here. You may want to own the gold-bordered
            white linen/handloom saree or Kasavu mundu (the sarong/lungi style menswear). You may even find a few raw
            silk pieces. Coconut, coir and sandalwood are some materials that yield very creative home décor items.
            Carry back authentic aroma oils and spa products. You may find some beautiful pieces made out of oyster
            shells.
        </p>
    </div>
    
    <div id="root"></div>
    
    <footer class="footer">
        <p>&copy; 2025 TourEase. All Rights Reserved.</p>
        <div class="social-icons">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
        </div>
    </footer>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function MapPopup() {
            const [showMap, setShowMap] = useState(false);
            const position = [8.7333, 76.7167]; // Varkala coordinates

            const openMap = () => {
                setShowMap(true);
            };

            useEffect(() => {
                if (showMap) {
                    // Small delay to ensure DOM is ready
                    setTimeout(() => {
                        const mapContainer = document.getElementById("map");
                        
                        // Clear previous map instance if exists
                        if (mapContainer._leaflet_id) {
                            mapContainer._leaflet_map.remove();
                            mapContainer.innerHTML = "";
                        }
                        
                        // Initialize new map
                        const map = L.map(mapContainer).setView(position, 13);
                        
                        // Add tile layer
                        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                        }).addTo(map);
                        
                        // Add marker
                        L.marker(position).addTo(map)
                            .bindPopup('📍 Varkala, Kerala')
                            .openPopup();
                    }, 100);
                }
            }, [showMap]);

            useEffect(() => {
                const mapBtn = document.querySelector(".mapbtn");
                if (mapBtn) mapBtn.addEventListener("click", openMap);

                return () => {
                    if (mapBtn) mapBtn.removeEventListener("click", openMap);
                };
            }, []);

            return (
                <>
                    {showMap && <div className="blur-background"></div>}
                    {showMap && (
                        <div className="map-popup">
                            <div className="popup-content">
                                <h2>Varkala Map</h2>
                                <div id="map" style={{ width: "100%", height: "400px" }}></div>
                                <button className="close-btn" onClick={() => setShowMap(false)}>
                                    <i className="fas fa-times-circle"></i>
                                </button>
                            </div>
                        </div>
                    )}
                </>
            );
        }

        function WeatherPopup() {
            const [weather, setWeather] = useState(null);
            const [showPopup, setShowPopup] = useState(false);

            const fetchWeather = async () => {
                try {
                    const apiKey = "f6dc252f85b4638702379d1b3cfb71d9";
                    const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=Varkala&units=metric&appid=${apiKey}`);
                    if (!response.ok) throw new Error("Weather data not available");

                    const data = await response.json();
                    setWeather(data);
                    setShowPopup(true);
                } catch (error) {
                    alert("Failed to fetch weather. Try again later.");
                }
            };

            useEffect(() => {
                const weatherBtn = document.querySelector(".weatherbtn");
                if (weatherBtn) weatherBtn.addEventListener("click", fetchWeather);

                return () => {
                    if (weatherBtn) weatherBtn.removeEventListener("click", fetchWeather);
                };
            }, []);

            return (
                <>
                    {showPopup && <div className="blur-background"></div>}
                    {showPopup && weather && (
                        <div className="weather-popup">
                            <div className="popup-content">
                                <h2>{weather.name}, {weather.sys.country}</h2>
                                <p>🌡 <strong>Temp:</strong> {weather.main.temp}°C</p>
                                <p>💧 <strong>Humidity:</strong> {weather.main.humidity}%</p>
                                <p>💨 <strong>Wind Speed:</strong> {weather.wind.speed} m/s</p>
                                <button className="close-btn" onClick={() => setShowPopup(false)}>
                                    <i className="fas fa-times-circle"></i>
                                </button>
                            </div>
                        </div>
                    )}
                </>
            );
        }

        ReactDOM.createRoot(document.getElementById("root")).render(
            <>
                <WeatherPopup />
                <MapPopup />
            </>
        );
    </script>
</body>
</html>
